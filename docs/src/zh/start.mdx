---
name: 开始使用
route: /zh/start
menu: 中文文档
---

import { Playground } from 'docz';
import Ellipsis from '../Ellipsis.jsx';

# 使用

如果使用 npm 安装，开始前请先导入组件

```tsx
import Ellipsis from 'react-ellipsis-component';
```

## 常规缩略

<Playground>
  <Ellipsis
    text="高性能、可自定义的 react 文本缩略组件。支持自定义缩略符、html 自定义缩略符、尾字符过滤、缩略回调等功能。"
    maxLine="1"
  />
</Playground>

常规缩略时使用 css 属性 `-webkit-line-clamp` 实现，性能最优且原生支持自适应缩略。

## 自定义缩略符

<Playground>
  <Ellipsis
    text="高性能、可自定义的 react 文本缩略组件。支持自定义缩略符、html 自定义缩略符、尾文本过滤、缩略回调等功能。"
    maxLine="1"
    ellipsisChar=" ...查看更多"
  />
</Playground>

## 自定义缩略节点

<Playground>
  <Ellipsis
    text="高性能、可自定义的 react 文本缩略组件。支持自定义缩略符、html 自定义缩略符、尾文本过滤、缩略回调等功能。"
    maxLine="1"
    ellipsisNode={<a href="/zh/start#自定义缩略节点">...查看更多</a>}
  />
</Playground>

## 自适应缩略

常规缩略默认支持自适应缩略，非常规缩略时，若当前环境支持 ResizeObserver ，可自行开启自适应缩略。

> 为什么不监听 window 的 resize 事件？它的兼容性更好。
>
> 因为监听 window 的 resize 事件很耗性能。

<Playground>
  <Ellipsis
    text="高性能、可自定义的 react 文本缩略组件。支持自定义缩略符、html 自定义缩略符、尾文本过滤、缩略回调等功能。"
    maxLine="1"
    ellipsisChar=" ...查看更多"
    reflowOnResize={true}
    reflowThresholdOnResize={40}
  />
</Playground>

## 尾字符过滤

<Playground>
  <Ellipsis
    text="高性能、可自定义的 react 文本缩略组件。支持自定义缩略符、html 自定义缩略符、尾文本过滤、缩略回调等功能。"
    maxLine="1"
    ellipsisChar=" ...查看更多"
    endExcludes={['、', '。']}
    reflowOnResize={true}
  />
</Playground>

## 富文本

当有富文本缩略需求时，可通过 `dangerouslyUseInnerHTML` 开启 html 解析。

使用富文本缩略时建议用 maxHeight 代替 maxLine，富文本中可能存在行高与容器不一致的子元素，从而导致 maxLine 计算误差。

> <p style="color: red;">警告⚠️：务必确保 text 内容安全可靠，否则可能导致 XSS 安全问题。</p>

<Playground>
  <Ellipsis
    text="<b>高性能、可自定义</b>的 react 文本缩略组件。支持自定义缩略符、html 自定义缩略符、尾文本过滤、缩略回调等功能。"
    maxHeight="30"
    dangerouslyUseInnerHTML={true}
    reflowOnResize={true}
  />
</Playground>

查看 [API 文档](/zh/api) 了解更多功能
